{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Create build directory",
            "type": "shell",
            "command": "mkdir",
            "args": [
                "-p",
                "${workspaceFolder}\\..\\..\\build"  // Ensure the build folder exists
            ],
            "problemMatcher": []
        },
        {
            "type": "cppbuild",
            "label": "C/C++: cl.exe build active file",
            "command": "cl.exe",
            "args": [
                "/Zi",  // Debugging information
                "/EHsc",  // Enable exception handling
                "/nologo",  // Suppress banner
                "/FA",  // Generate assembly output
                "/Fo${workspaceFolder}\\..\\..\\build\\",  // Object files go to build directory
                "/Fe${workspaceFolder}\\..\\..\\build\\${fileBasenameNoExtension}.exe",  // Executable goes to build directory
                "/Fd${workspaceFolder}\\..\\..\\build\\${fileBasenameNoExtension}.pdb",  // PDB goes to build directory
                "${file}",
                "/link",  // Link options
                "User32.lib",
                "Gdi32.lib"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$msCompile"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        },
        {
            "label": "Check paths for assembly",
            "type": "shell",
            "command": "echo",
            "args": [
                "Assembly file generated in: ${fileDirname}\\${fileBasenameNoExtension}.asm"
            ],
            "dependsOn": ["C/C++: cl.exe build active file"],
            "problemMatcher": []
        },
    ]
}
